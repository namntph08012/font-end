{"ast":null,"code":"var _jsxFileName = \"D:\\\\WEB207\\\\react-ASS-PT14313\\\\src\\\\pages\\\\views\\\\Admin\\\\EditBlogs\\\\index.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst EditBlog = props => {\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const category = categories.find(category => category.id === id);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm(); // Sử dụng hook form\n\n  const [currentCategory, setCurrentCategory] = useState(category);\n\n  const onHandleSubmit = data => {\n    let file = data.image[0];\n\n    if (file) {\n      // create reference in firebase\n      let storageRef = firebase.storage().ref(`images/${file.name}`); // upload image\n\n      storageRef.put(file).then(function () {\n        storageRef.getDownloadURL().then(url => {\n          console.log(url); // get input value\n\n          const newData = {\n            id: id,\n            ...data,\n            image: url\n          };\n          onUpdateCate(newData);\n          history.push('/admin/categories');\n        });\n      });\n    } else {\n      const newData = {\n        id: id,\n        ...data\n      };\n      onUpdateCate(newData);\n      history.push('/admin/categories');\n    }\n  };\n\n  const onHandleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCurrentCategory({ ...setCurrentCategory,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  });\n};\n\nEditBlog.propTypes = {};\nexport default EditBlog;","map":{"version":3,"sources":["D:/WEB207/react-ASS-PT14313/src/pages/views/Admin/EditBlogs/index.js"],"names":["React","PropTypes","EditBlog","props","id","useParams","history","useHistory","category","categories","find","register","handleSubmit","errors","useForm","currentCategory","setCurrentCategory","useState","onHandleSubmit","data","file","image","storageRef","firebase","storage","ref","name","put","then","getDownloadURL","url","console","log","newData","onUpdateCate","push","onHandleChange","e","value","target","propTypes"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AACtB,MAAI;AAAEC,IAAAA;AAAF,MAASC,SAAS,EAAtB;AACA,MAAIC,OAAO,GAAGC,UAAU,EAAxB;AACA,QAAMC,QAAQ,GAAGC,UAAU,CAACC,IAAX,CAAgBF,QAAQ,IAAIA,QAAQ,CAACJ,EAAT,KAAgBA,EAA5C,CAAjB;AACA,QAAM;AAAEO,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAqCC,OAAO,EAAlD,CAJsB,CAIgC;;AACtD,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCC,QAAQ,CAACT,QAAD,CAAtD;;AACA,QAAMU,cAAc,GAAIC,IAAD,IAAU;AAC/B,QAAIC,IAAI,GAAGD,IAAI,CAACE,KAAL,CAAW,CAAX,CAAX;;AACA,QAAGD,IAAH,EAAQ;AACN;AACA,UAAIE,UAAU,GAAGC,QAAQ,CAACC,OAAT,GAAmBC,GAAnB,CAAwB,UAASL,IAAI,CAACM,IAAK,EAA3C,CAAjB,CAFM,CAGN;;AACAJ,MAAAA,UAAU,CAACK,GAAX,CAAeP,IAAf,EAAqBQ,IAArB,CAA0B,YAAU;AAClCN,QAAAA,UAAU,CAACO,cAAX,GAA4BD,IAA5B,CAAkCE,GAAD,IAAO;AACtCC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADsC,CAElC;;AACA,gBAAMG,OAAO,GAAG;AACd7B,YAAAA,EAAE,EAAEA,EADU;AAEd,eAAGe,IAFW;AAGdE,YAAAA,KAAK,EAAES;AAHO,WAAhB;AAKAI,UAAAA,YAAY,CAACD,OAAD,CAAZ;AACA3B,UAAAA,OAAO,CAAC6B,IAAR,CAAa,mBAAb;AACL,SAVD;AAWD,OAZD;AAaD,KAjBD,MAkBI;AACQ,YAAMF,OAAO,GAAG;AAChB7B,QAAAA,EAAE,EAAEA,EADY;AAEhB,WAAGe;AAFa,OAAhB;AAIFe,MAAAA,YAAY,CAACD,OAAD,CAAZ;AACA3B,MAAAA,OAAO,CAAC6B,IAAR,CAAa,mBAAb;AACT;AACF,GA5BD;;AA6BA,QAAMC,cAAc,GAAIC,CAAD,IAAO;AAC1B,UAAM;AAAEX,MAAAA,IAAF;AAAQY,MAAAA;AAAR,QAAkBD,CAAC,CAACE,MAA1B;AACAvB,IAAAA,kBAAkB,CAAC,EACf,GAAGA,kBADY;AAEf,OAACU,IAAD,GAAQY;AAFO,KAAD,CAAlB;AAIH,GAND;;AAOA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAKH,CA/CD;;AAiDApC,QAAQ,CAACsC,SAAT,GAAqB,EAArB;AAIA,eAAetC,QAAf","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst EditBlog = props => {\r\n    let { id } = useParams();\r\n    let history = useHistory();\r\n    const category = categories.find(category => category.id === id);\r\n    const { register, handleSubmit, errors } = useForm(); // Sử dụng hook form\r\n    const [currentCategory, setCurrentCategory] = useState(category);\r\n    const onHandleSubmit = (data) => {\r\n      let file = data.image[0];\r\n      if(file){\r\n        // create reference in firebase\r\n        let storageRef = firebase.storage().ref(`images/${file.name}`);\r\n        // upload image\r\n        storageRef.put(file).then(function(){\r\n          storageRef.getDownloadURL().then((url)=>{\r\n            console.log(url);\r\n                // get input value\r\n                const newData = {\r\n                  id: id,\r\n                  ...data,\r\n                  image: url\r\n                }\r\n                onUpdateCate(newData);\r\n                history.push('/admin/categories');\r\n          })\r\n        })\r\n      }\r\n      else{\r\n                  const newData = {\r\n                  id: id,\r\n                  ...data,\r\n                }\r\n                onUpdateCate(newData);\r\n                history.push('/admin/categories');\r\n      }   \r\n    }\r\n    const onHandleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setCurrentCategory({\r\n            ...setCurrentCategory,\r\n            [name]: value\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nEditBlog.propTypes = {\r\n\r\n}\r\n\r\nexport default EditBlog\r\n"]},"metadata":{},"sourceType":"module"}